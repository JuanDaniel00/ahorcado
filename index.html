<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="./css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&family=Trade+Winds&family=Vibes&display=swap"
        rel="stylesheet">

    <title>Ahorcado</title>
</head>

<body>
    <section class="sectionMain">

        <div class="divContenedorInicio">
            <h1 class="tituloPrincipal">Bienvenido a <label class="animate__animated animate__swing">"El
                    Ahorcado"</label>
            </h1>
            <div c <button d <button data-text="Awesome" data-bs-target="#modalCategorias" data-bs-toggle="modal"
                id="buttonPlay">
                <span class="actual-text">&nbsp;jugar&nbsp;</span>
                <span aria-hidden="true" class="hover-text">&nbsp;jugar&nbsp;</span>
                </button>
            </div>
        </div>

        <div class="modal fade" id="modalCategorias" aria-hidden="true" aria-labelledby="exampleModalToggleLabel"
            tabindex="-1">
            <div class="modal-dialog modal-dialog-centered modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalToggleLabel">CATEGORIAS</h1>
                        <button class="button3 btn-close" type="button" data-bs-dismiss="modal" aria-label="Close">
                            <span class="X"></span>
                            <span class="Y"></span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="divCategorias">
                            <div class="divContPackage">
                                <h1 class="titleCard">Videojuegos</h1>
                                <div class="package" data-bs-target="#modalDificultad" data-bs-toggle="modal">
                                    <button class="package2" value="games">
                                        <div class="divImgCard">
                                            <img class="static-gif" src="./img/pngJuegos.png" alt="">
                                            <img class="animated-gif" src="./img/videojuegos.gif" alt="">
                                        </div>
                                    </button>
                                </div>
                            </div>

                            <div class="divContPackage">
                                <h1 class="titleCard">Leng. de Programacion</h1>
                                <div class="package" data-bs-target="#modalDificultad" data-bs-toggle="modal">
                                    <button class="package2" value="programacion">
                                        <div class="divImgCard">
                                            <img class="static-gif" src="./img/pngProgramacion.png" alt="">
                                            <img class="animated-gif" src="./img/lenguajeProgramacion.gif" alt="">
                                        </div>
                                    </button>
                                </div>
                            </div>

                            <div class="divContPackage">
                                <h1 class="titleCard">Componentes Pc</h1>
                                <div class="package" data-bs-target="#modalDificultad" data-bs-toggle="modal">
                                    <button class="package2" value="componentes">
                                        <div class="divImgCard">
                                            <img class="static-gif" src="./img/pngComponentes.png" alt="">
                                            <img class="animated-gif" src="./img/pcComponentes.gif" alt="">
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="modal fade" id="modalDificultad" aria-hidden="true" aria-labelledby="modalDificultad" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5">SELECCIONE DIFICULTAD</h1>
                        <button class="button3 btn-close" type="button" data-bs-dismiss="modal" aria-label="Close">
                            <span class="X"></span>
                            <span class="Y"></span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- Dificultades -->

                        <div class="divContenedorBtn">
                            <button class="btn btn-primary btndiff btnFacil" data-bs-target="#modalJuego     "
                                data-bs-toggle="modal" value="facil">Facil
                            </button>
                            <button class="btn btn-primary btndiff btnMedio" data-bs-target="#modalJuego"
                                data-bs-toggle="modal" value="medio">Medio
                            </button>
                            <button class="btn btn-primary btndiff btnDificil" data-bs-target="#modalJuego"
                                data-bs-toggle="modal" value="dificil">Dificil
                            </button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="animate__animated animate__backInLeft btATRAS" data-bs-target="#modalCategorias"
                            data-bs-toggle="modal"><svg height="16" width="16" xmlns="http://www.w3.org/2000/svg"
                                version="1.1" viewBox="0 0 1024 1024">
                                <path
                                    d="M874.690416 495.52477c0 11.2973-9.168824 20.466124-20.466124 20.466124l-604.773963 0 188.083679 188.083679c7.992021 7.992021 7.992021 20.947078 0 28.939099-4.001127 3.990894-9.240455 5.996574-14.46955 5.996574-5.239328 0-10.478655-1.995447-14.479783-5.996574l-223.00912-223.00912c-3.837398-3.837398-5.996574-9.046027-5.996574-14.46955 0-5.433756 2.159176-10.632151 5.996574-14.46955l223.019353-223.029586c7.992021-7.992021 20.957311-7.992021 28.949332 0 7.992021 8.002254 7.992021 20.957311 0 28.949332l-188.073446 188.073446 604.753497 0C865.521592 475.058646 874.690416 484.217237 874.690416 495.52477z">
                                </path>
                            </svg><span>ATRÁS</span></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="modalJuego" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content modalJuegoStyle">
                    <div class="modal-header modal-header-Juego">
                        <button class="button3 btn-close btn-reload" type="button" data-bs-dismiss="modal"
                            aria-label="Close">
                            <span class="X"></span>
                            <span class="Y"></span>
                        </button>
                    </div>
                    <div class="modal-body modal-body-Juego">
                        <div class="divContenedorJuego">
                            <div class="divAhorcado">
                                <div class="divContAhorcadoImg">

                                </div>
                                <div class="divContVidas">
                                    <h1 class="titleVidas"></h1>
                                </div>
                                <div class="divContPalabraMostrar">

                                </div>
                            </div>

                            <div class="divTeclado">
                                <div class="divFila1">
                                    <button class="btnLetra" value="w">W</button>
                                    <button class="btnLetra" value="q">Q</button>
                                    <button class="btnLetra" value="e">E</button>
                                    <button class="btnLetra" value="r">R</button>
                                    <button class="btnLetra" value="t">T</button>
                                    <button class="btnLetra" value="y">Y</button>
                                    <button class="btnLetra" value="u">U</button>
                                    <button class="btnLetra" value="i">I</button>
                                    <button class="btnLetra" value="o">O</button>
                                    <button class="btnLetra" value="p">P</button>
                                </div>
                                <div class="divFila2">
                                    <button class="btnLetra" value="a">A</button>
                                    <button class="btnLetra" value="s">S</button>
                                    <button class="btnLetra" value="d">D</button>
                                    <button class="btnLetra" value="f">F</button>
                                    <button class="btnLetra" value="g">G</button>
                                    <button class="btnLetra" value="g">H</button>
                                    <button class="btnLetra" value="j">J</button>
                                    <button class="btnLetra" value="k">K</button>
                                    <button class="btnLetra" value="l">L</button>
                                </div>
                                <div class="divFila3">
                                    <button class="btnLetra" value="z">Z</button>
                                    <button class="btnLetra" value="x">X</button>
                                    <button class="btnLetra" value="c">C</button>
                                    <button class="btnLetra" value="v">V</button>
                                    <button class="btnLetra" value="b">B</button>
                                    <button class="btnLetra" value="n">N</button>
                                    <button class="btnLetra" value="m">M</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

<script>

    // Seleccionar la categoria y añadir la lista de palabras que se usaran mas adelante respecto a la categoria seleccionada

    let palabras = [];
    let palabra = '';
    let vidas = 0;
    let palabraMostrar = '';
    let categoria = '';
    let dificultad = '';

    document.querySelectorAll('.package2').forEach(item => {
        item.addEventListener('click', event => {
            categoria = item.value;
            palabras = [];
            if (categoria == 'games') {
                palabras = ['minecraft', 'fortnite', 'amongus', 'valorant', 'gta', 'fifa', 'callofduty', 'leagueoflegends', 'overwatch', 'apexlegends', 'roblox', 'terraria', 'pubg', 'rocketleague', 'csgo', 'dota2', 'fallguys', 'zelda', 'pokemon', 'mario', 'sonic', 'halo', 'godofwar', 'uncharted', 'residentevil', 'doom'];
            } else if (categoria == 'programacion') {
                palabras = ['javascript', 'python', 'java', 'php', 'ruby', 'swift', 'kotlin', 'typescript', 'sql', 'go', 'r', 'rust', 'dart', 'perl', 'lua', 'scala', 'haskell', 'cobol', 'fortran', 'pascal', 'lisp'];
            } else if (categoria == 'componentes') {
                palabras = ['motherboard', 'cpu', 'gpu', 'ram', 'ssd', 'hdd', 'psu', 'case', 'cooler', 'modem', 'ethernet'];
            }
            console.log(palabras)
        });
    });

    // Seleccionar la dificultad y depedendiendo la dificultad se elige una palabra mas corta o mas larga de la lista de palabras de la categoria seleccionada anteriormentes

    document.querySelectorAll('.btndiff').forEach(item => {
        item.addEventListener('click', event => {
            palabra = '';
            vidas = 0;
            palabraMostrar = '';
            dificultad = item.value;
            if (dificultad == 'facil') {
                let palabrasCortas = palabras.filter(palabra => palabra.length <= 4);
                palabra = palabrasCortas[Math.floor(Math.random() * palabrasCortas.length)];
                vidas = 10;
                document.querySelector('.titleVidas').innerHTML = `Vidas: ${vidas}`;
                for (let i = 0; i < palabra.length; i++) {
                    palabraMostrar = Array(palabra.length).fill('_');
                }
                document.querySelector('.divContPalabraMostrar').innerHTML = palabraMostrar;
            } else if (dificultad == 'medio') {
                let palabrasMedias = palabras.filter(palabra => palabra.length > 6 && palabra.length <= 8);
                palabra = palabrasMedias[Math.floor(Math.random() * palabrasMedias.length)];
                vidas = 7;
                document.querySelector('.titleVidas').innerHTML = `Vidas: ${vidas}`;
                for (let i = 0; i < palabra.length; i++) {
                    palabraMostrar = Array(palabra.length).fill('_');
                }
                document.querySelector('.divContPalabraMostrar').innerHTML = palabraMostrar;
            } else if (dificultad == 'dificil') {
                let palabrasLargas = palabras.filter(palabra => palabra.length >= 10);
                palabra = palabrasLargas[Math.floor(Math.random() * palabrasLargas.length)];
                vidas = 4;
                document.querySelector('.titleVidas').innerHTML = `Vidas: ${vidas}`;
                for (let i = 0; i < palabra.length; i++) {
                    palabraMostrar = Array(palabra.length).fill('_');
                }
                document.querySelector('.divContPalabraMostrar').innerHTML = palabraMostrar;
            }
            console.log(palabra)
        });
    });


    document.querySelectorAll('.btnLetra').forEach(btn => {
        btn.addEventListener('click', event => {
            let letra = event.target.value;
            console.log(letra);

            // Comprobar si la letra esta en la palabra
            if (palabra.includes(letra)) {
                // Si esta en la palabra, mostrar la letra en la palabra a mostrar
                for (let i = 0; i < palabra.length; i++) {
                    if (palabra[i] === letra) {
                        palabraMostrar[i] = letra;
                    }
                }
                document.querySelector('.divContPalabraMostrar').innerHTML = palabraMostrar.join(' ');
            } else {
                // Si no esta en la palabra, quitar una vida
                vidas--;
                document.querySelector('.titleVidas').innerHTML = `Vidas: ${vidas}`;
            }

            // Si la letra ya ha sido seleccionada; en dificultad facil y media, no se puede volver a seleccionar, en dificultad dificil si se puede seleccionar pero si la letra ya ha sido seleccionada, quitar una vida
            if (dificultad !== 'dificil') {
                btn.disabled = true;
                btn.style.backgroundColor = 'red';
                btn.style.cursor = 'not-allowed';
            } else if (dificultad === 'dificil') {
                if (btn.disabled === true) {
                    vidas--;
                    document.querySelector('.titleVidas').innerHTML = `Vidas: ${vidas}`;
                }
            }

            // Comprobar si la palabraMostrar es igual a la palabra
            if (palabraMostrar.join('') === palabra) {
                alert('Ganaste');
                reiniciarJuego();
            }

            // Comprobar si las vidas son 0
            if (vidas === 0) {
                alert('Perdiste');
                reiniciarJuego();
            }
        });
    });

    function reiniciarJuego() {
        // Restablecer todas las variables del juego a sus valores iniciales
        palabra = palabras[Math.floor(Math.random() * palabras.length)];
        palabraMostrar = Array(palabra.length).fill('_');
        vidas = 0;
        dificultad = '';
        // Restablecer la interfaz del usuario
        document.querySelector('.divContPalabraMostrar').innerHTML = palabraMostrar.join(' ');
        document.querySelector('.titleVidas').innerHTML = `Vidas: ${vidas}`;
        document.querySelectorAll('.btnLetra').forEach(btn => {
            btn.disabled = false;
            btn.style.backgroundColor = '';
            btn.style.cursor = '';
        });
    }
</script>

</html>